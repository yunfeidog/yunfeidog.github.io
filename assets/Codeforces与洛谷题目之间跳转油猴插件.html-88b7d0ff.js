import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o,c as e,b as n,d as s,e as c,a as l}from"./app-51564aae.js";const i={},u=n("h1",{id:"codeforces与洛谷题目之间跳转油猴插件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#codeforces与洛谷题目之间跳转油猴插件","aria-hidden":"true"},"#"),s(" Codeforces与洛谷题目之间跳转油猴插件")],-1),r=n("blockquote",null,[n("p",null,"第一次用油猴写插件，记录一下，"),n("p",null,"写本插件主要是因为Codeforces题目都是英文的，看了头疼，但是洛谷有对Codeforces的翻译，并且有题解也是中文的，还支持远程提交。")],-1),k=n("h2",{id:"说明",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#说明","aria-hidden":"true"},"#"),s(" 说明")],-1),d=n("p",null,"codeforces直接获取元素，然后添加按钮即可，",-1),m=n("p",null,"洛谷需要等待页面全部加载完成，才能获取到页面的元素，然后再去添加按钮跳转。",-1),v={href:"https://greasyfork.org/zh-CN/scripts/465489-codeforces%E4%B8%8E%E6%B4%9B%E8%B0%B7%E9%A2%98%E7%9B%AE%E9%93%BE%E6%8E%A5%E8%B7%B3%E8%BD%AC",target:"_blank",rel:"noopener noreferrer"},b=l(`<h2 id="参考页面如下" tabindex="-1"><a class="header-anchor" href="#参考页面如下" aria-hidden="true">#</a> 参考页面如下：</h2><h3 id="cf跳转洛谷" tabindex="-1"><a class="header-anchor" href="#cf跳转洛谷" aria-hidden="true">#</a> CF跳转洛谷：</h3><figure><img src="https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202305041616922.png" alt="image-20230504161631850" tabindex="0" loading="lazy"><figcaption>image-20230504161631850</figcaption></figure><h3 id="洛谷跳转cf" tabindex="-1"><a class="header-anchor" href="#洛谷跳转cf" aria-hidden="true">#</a> 洛谷跳转CF：</h3><figure><img src="https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202305041617886.png" alt="image-20230504161702863" tabindex="0" loading="lazy"><figcaption>image-20230504161702863</figcaption></figure><h2 id="代码" tabindex="-1"><a class="header-anchor" href="#代码" aria-hidden="true">#</a> 代码</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>host<span class="token operator">===</span><span class="token string">&quot;codeforces.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> str<span class="token operator">=</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href
        <span class="token keyword">let</span> bigBox<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#sidebar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> myButton<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myButton<span class="token punctuation">.</span>textContent<span class="token operator">=</span><span class="token string">&quot;点击我去洛谷&quot;</span><span class="token punctuation">;</span>
        bigBox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>myButton<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> problemId<span class="token operator">=</span><span class="token function">getProblemId</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> problemChar<span class="token operator">=</span><span class="token function">getProblemChar</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>problemId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>problemChar<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//给按钮添加点击事件</span>
        myButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.luogu.com.cn/problem/CF&quot;</span><span class="token operator">+</span>problemId<span class="token operator">+</span>problemChar<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> str<span class="token operator">=</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href
        <span class="token comment">// 找到最后一个 / 的位置</span>
        <span class="token keyword">var</span> lastSlashIndex <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 从 URL 中截取出 ID 和最后的字符</span>
        <span class="token keyword">var</span> idStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>lastSlashIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;CF1714D&quot;</span>
        <span class="token keyword">let</span> idNum <span class="token operator">=</span><span class="token string">&#39;&#39;</span><span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>idStr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1714</span>
        <span class="token keyword">let</span> lastChar <span class="token operator">=</span><span class="token string">&#39;&#39;</span> <span class="token operator">+</span>idStr<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>idStr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;D&quot;</span>
        <span class="token keyword">var</span> url<span class="token operator">=</span><span class="token string">&#39;https://codeforces.com/contest/&#39;</span><span class="token operator">+</span>idNum<span class="token operator">+</span><span class="token string">&quot;/problem/&quot;</span><span class="token operator">+</span>lastChar<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> mybutton<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mybutton<span class="token punctuation">.</span>textContent<span class="token operator">=</span><span class="token string">&quot;去打CF&quot;</span><span class="token punctuation">;</span>
            mybutton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 在这里编写需要在页面全部加载完毕后执行的操作</span>
            <span class="token keyword">let</span> cf<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#app &gt; div.main-container &gt; main &gt; div &gt; section.side &gt; div:nth-child(1) &gt; div &gt; div:nth-child(1) &gt; span:nth-child(2)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> bigBox<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#app &gt; div.main-container &gt; div.wrapper.wrapped.lfe-body.header-layout.normal &gt; div.header &gt; div.functional &gt; div.operation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cf<span class="token punctuation">)</span><span class="token punctuation">;</span>
            cf<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            bigBox<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>mybutton<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">getProblemId</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> pos <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;contest/&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;contest/&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">let</span> contestNum <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;9&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        contestNum <span class="token operator">+=</span> str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
        pos<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> contestNum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getProblemChar</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> pos <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;problem/&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;problem/&quot;</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">let</span> problemLetter <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> problemLetter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7);function g(f,h){const a=p("ExternalLinkIcon");return o(),e("div",null,[u,r,k,d,m,n("p",null,[s("插件链接："),n("a",v,[s("https://github.com/yunfeidog/CodeforcesToLuogu"),c(a)])]),b])}const w=t(i,[["render",g],["__file","Codeforces与洛谷题目之间跳转油猴插件.html.vue"]]);export{w as default};
