import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o,c,b as n,d as s,e as t,a as l}from"./app-51564aae.js";const i={},u=n("h1",{id:"openlayers6地图",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#openlayers6地图","aria-hidden":"true"},"#"),s(" openlayers6地图")],-1),r={href:"https://openlayers.org/",target:"_blank",rel:"noopener noreferrer"},k=n("br",null,null,-1),d=n("br",null,null,-1),v={href:"https://openlayers.org/doc/tutorials/concepts.html",target:"_blank",rel:"noopener noreferrer"},m=l(`<h2 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始" aria-hidden="true">#</a> 快速开始</h2><p>安装：<code>npm install ol -S</code><br> 同时使用vue简化开发。</p><p>渲染一个地图：</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
<span class="token keyword">import</span> <span class="token string">&#39;ol/ol.css&#39;</span>  
<span class="token keyword">import</span> <span class="token punctuation">{</span> Map<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ol&#39;</span>  
<span class="token keyword">import</span> Tile <span class="token keyword">from</span> <span class="token string">&#39;ol/layer/Tile&#39;</span>  
<span class="token keyword">import</span> <span class="token punctuation">{</span> fromLonLat <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ol/proj&#39;</span>  
<span class="token keyword">import</span> <span class="token constant">OSM</span> <span class="token keyword">from</span> <span class="token string">&#39;ol/source/OSM&#39;</span>  
  
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;tree&#39;</span><span class="token punctuation">,</span>  
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">return</span> <span class="token punctuation">{</span>  
      <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token keyword">null</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token doc-comment comment">/**  
     * 初始化一个 openlayers 地图  
     */</span>  
    <span class="token function">initMap</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token string">&#39;map&#39;</span> <span class="token comment">// 跟页面元素的 id 绑定来进行渲染  </span>
      <span class="token keyword">const</span> tileLayer <span class="token operator">=</span> <span class="token punctuation">[</span>  
        <span class="token keyword">new</span> <span class="token class-name">Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
          <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">OSM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
      <span class="token punctuation">]</span>  
      <span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token function">fromLonLat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">104.912777</span><span class="token punctuation">,</span> <span class="token number">34.730746</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 地图中心坐标  </span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">4.5</span> <span class="token comment">// 缩放级别  </span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
      <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
        <span class="token literal-property property">target</span><span class="token operator">:</span> target<span class="token punctuation">,</span> <span class="token comment">// 绑定dom元素进行渲染  </span>
        <span class="token literal-property property">layers</span><span class="token operator">:</span> tileLayer<span class="token punctuation">,</span> <span class="token comment">// 配置地图数据源  </span>
        <span class="token literal-property property">view</span><span class="token operator">:</span> view <span class="token comment">// 配置地图显示的options配置（坐标系，中心点，缩放级别等）  </span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  
<span class="token selector">#content</span> <span class="token punctuation">{</span>  
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  
  <span class="token selector">#map</span> <span class="token punctuation">{</span>  
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p><figure><img src="https://s2.loli.net/2024/03/31/GWYMDymPVS7rQt6.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>代码解释：<br><code>&lt;div id=&quot;map&quot; ref=&quot;map&quot;&gt;&lt;/div&gt;</code> 需要一个容器用来存放地图，这个容器必须要设置长宽，否则无法显示<br><code>initMap</code>函数用来初始化地图信息，layer为信息源，view为地图配置，target为容器</p><h2 id="图层展示" tabindex="-1"><a class="header-anchor" href="#图层展示" aria-hidden="true">#</a> 图层展示</h2><p>常见的6种图层</p><ol><li><strong>Tile 图层（瓦片图层）</strong>: <ul><li>使用瓦片图块构建的图层，常用于显示地图底图。</li><li>可以通过 URL 请求地图服务（如 OpenStreetMap、Google Maps、Bing Maps 等）来获取瓦片。</li></ul></li><li><strong>Vector 图层（矢量图层）</strong>: <ul><li>使用矢量数据渲染的图层，可以显示点、线、面等地理要素。</li><li>可以使用 GeoJSON、KML、GPX 等格式的数据来创建矢量图层。</li></ul></li><li><strong>Image 图层（影像图层）</strong>: <ul><li>可以显示单张或多张图片，常用于叠加卫星影像或其他影像数据。</li><li>支持显示各种格式的图片，如 PNG、JPEG、GIF 等。</li></ul></li><li><strong>Heatmap 图层（热力图层）</strong>: <ul><li>用于显示基于数据密度的热力图。</li><li>通过对数据点进行权重计算，生成热力图来展示数据分布情况。</li></ul></li><li><strong>TileGrid 图层（网格图层）</strong>: <ul><li>用于显示栅格数据，如栅格图、DEM（数字高程模型）等。</li><li>可以指定栅格的分辨率、范围等参数来显示地形或其他栅格数据。</li></ul></li><li><strong>Overlay 图层（覆盖图层）</strong>: <ul><li>用于在地图上添加覆盖物，如标记、信息窗口等。</li><li>可以将任意 HTML 元素添加到地图上，并控制其位置和样式。</li></ul></li></ol><p>在上面的代码中：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> tileLayer <span class="token operator">=</span> <span class="token punctuation">[</span>  
  <span class="token keyword">new</span> <span class="token class-name">Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">OSM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span><span class="token punctuation">)</span>  
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里可以接受一个数组，也就是可以添加多个图层。</p><p>图层切片：</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mouse-position<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox-group</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>天地图影像图<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changImage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>天地图影像标注<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox-group</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
<span class="token keyword">import</span> <span class="token string">&#39;ol/ol.css&#39;</span>  
<span class="token keyword">import</span> <span class="token punctuation">{</span> Map<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ol&#39;</span>  
<span class="token keyword">import</span> TileLayer <span class="token keyword">from</span> <span class="token string">&#39;ol/layer/Tile&#39;</span>  
<span class="token keyword">import</span> <span class="token constant">XYZ</span> <span class="token keyword">from</span> <span class="token string">&#39;ol/source/XYZ&#39;</span>  
<span class="token keyword">import</span> <span class="token punctuation">{</span> fromLonLat <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ol/proj&#39;</span>  
  
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;tree&#39;</span><span class="token punctuation">,</span>  
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">return</span> <span class="token punctuation">{</span>  
      <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  
      <span class="token literal-property property">checkList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 初始化一个 openlayers 地图  </span>
    <span class="token function">initMap</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token string">&#39;map&#39;</span>  
      <span class="token keyword">const</span> tileLayer <span class="token operator">=</span> <span class="token punctuation">[</span>  
        <span class="token keyword">new</span> <span class="token class-name">TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
          <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}&#39;</span>  
          <span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
      <span class="token punctuation">]</span>  
      <span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token function">fromLonLat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">104.912777</span><span class="token punctuation">,</span> <span class="token number">34.730746</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">4.5</span>  
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
      <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
        <span class="token literal-property property">target</span><span class="token operator">:</span> target<span class="token punctuation">,</span>  
        <span class="token literal-property property">layers</span><span class="token operator">:</span> tileLayer<span class="token punctuation">,</span>  
        <span class="token literal-property property">view</span><span class="token operator">:</span> view  
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token comment">// 天地图影像图层  </span>
    <span class="token function-variable function">changImage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">checked<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>TiandiMap_img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;天地图影像图层&#39;</span><span class="token punctuation">,</span>  
          <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://t0.tianditu.com/DataServer?T=img_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk=5d27dc75ca0c3bdf34f657ffe1e9881d&#39;</span><span class="token punctuation">,</span> <span class="token comment">// parent.TiandituKey()为天地图密钥  </span>
            <span class="token literal-property property">wrapX</span><span class="token operator">:</span> <span class="token boolean">false</span>  
          <span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token comment">// 添加到地图上  </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>TiandiMap_img<span class="token punctuation">)</span>  
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>TiandiMap_img<span class="token punctuation">)</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token comment">// 天地图影像注记图层  </span>
    <span class="token function-variable function">changText</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">checked<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">if</span> <span class="token punctuation">(</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>TiandiMap_cia <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;天地图影像注记图层&#39;</span><span class="token punctuation">,</span>  
          <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://t0.tianditu.com/DataServer?T=cia_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk=5d27dc75ca0c3bdf34f657ffe1e9881d&#39;</span><span class="token punctuation">,</span> <span class="token comment">// parent.TiandituKey()为天地图密钥  </span>
            <span class="token literal-property property">wrapX</span><span class="token operator">:</span> <span class="token boolean">false</span>  
          <span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token comment">// 添加到地图上  </span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>TiandiMap_cia<span class="token punctuation">)</span>  
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
        <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>TiandiMap_cia<span class="token punctuation">)</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">  
<span class="token selector">#content</span> <span class="token punctuation">{</span>  
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  
  <span class="token selector">#map</span> <span class="token punctuation">{</span>  
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token selector">#mouse-position</span> <span class="token punctuation">{</span>  
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  
  <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  
  <span class="token property">left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1000<span class="token punctuation">;</span>  
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>  
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/03/31/mGwXOrVcUJSnQ1e.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure>`,16);function b(g,y){const a=e("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[s("openlayers官网："),n("a",r,[s("https://openlayers.org/"),t(a)]),k,s(" 介绍：OpenLayers 可以轻松地将动态地图放置在任何网页中。它可以显示从任何来源加载的地图图块、矢量数据和标记。OpenLayers 的开发是为了进一步使用各种地理信息。它是完全免费的开源 JavaScript，在 2 条款 BSD 许可证（也称为 FreeBSD）下发布。"),d,s(" 官方教程："),n("a",v,[s("https://openlayers.org/doc/tutorials/concepts.html"),t(a)])]),m])}const f=p(i,[["render",b],["__file","openlayers6地图.html.vue"]]);export{f as default};
