import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as l,c,b as e,d as n,e as r}from"./app-51564aae.js";const a={},_=e("h1",{id:"consul微服务注册问题",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#consul微服务注册问题","aria-hidden":"true"},"#"),n(" consul微服务注册问题")],-1),u={href:"https://blog.csdn.net/lushuaiyin/article/details/104585630",target:"_blank",rel:"noopener noreferrer"},i=e("p",null,"consul和微服务间的网络不稳定，断开了几分钟。在此情况下，consul向微服务发的健康检查请求发不通，认为微服务挂了，就从服务列表里剔除他。",-1),d=e("p",null,[n("当网络恢复后，注意，已经剔除的服务，"),e("strong",null,"consul是不会主动再发健康检查的。那么服务列表里没有他"),n("，也就不正常了。网关的转发都是需要获取可用服务列表，才能做转发的！这时候，你想让微服务注册上consul就只能重启微服务了。这在生产环境意味着什么就不用多说了吧。是不是很坑？"),e("br"),n(" 原因：因为consul的健康检查机制是consul主动发")],-1);function h(p,f){const o=t("ExternalLinkIcon");return l(),c("div",null,[_,e("p",null,[n("参考连接："),e("a",u,[n("https://blog.csdn.net/lushuaiyin/article/details/104585630"),r(o)])]),i,d])}const b=s(a,[["render",h],["__file","consul微服务注册.html.vue"]]);export{b as default};
