import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as i,b as n,d as s,e as p,a}from"./app-51564aae.js";const l={},u=a('<h1 id="开发自己的npm脚手架" tabindex="-1"><a class="header-anchor" href="#开发自己的npm脚手架" aria-hidden="true">#</a> 开发自己的npm脚手架</h1><h2 id="发布npm程序" tabindex="-1"><a class="header-anchor" href="#发布npm程序" aria-hidden="true">#</a> 发布npm程序</h2><h3 id="注册账号" tabindex="-1"><a class="header-anchor" href="#注册账号" aria-hidden="true">#</a> 注册账号</h3>',3),r={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},d=a(`<p>更换软件源：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">npm</span> get registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>得到结果如下，这个不是官方的需要更换：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> get registry
https://registry.npmmirror.com/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>设置官方的：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>弄完了设置回去：</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm config set registry https://registry.npmmirror.com/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="控制台登录" tabindex="-1"><a class="header-anchor" href="#控制台登录" aria-hidden="true">#</a> 控制台登录</h3><p>此时在login</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> login 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后修改package.json内容：<br> 例子：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shang-utils&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 包名，必须要独一无二</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 版本号</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 作者</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;common toolkit&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 描述信息</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;utils&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;format&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;money&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;phone&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 关键词，提升SEO</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 代码托管位置</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/xxx/shang-utils&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 许可证</span>
  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://your-package.org&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 包的主页或者文档首页</span>
  <span class="token property">&quot;bugs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/xxx/shang-utils/issues&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用户问题反馈地址</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 入口文件</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 存放可执行脚本</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 运行依赖</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 开发依赖</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我的内容如下：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>  
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress-theme-hope-docs-template&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yunfeidog&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;A project of vuepress-theme-hope&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vuepress&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;docs&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blog&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vuepress-theme-hope&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/yunfeidog/docs-template&quot;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://yunfeidog.github.io/docs-template/&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build src&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;docs:clean-dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev src --clean-cache&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev src&quot;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;@vuepress/client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.53&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;@vuepress/plugin-register-components&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0-beta.51&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;element-plus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.2.25&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.45&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;vuepress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.53&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;vuepress-theme-hope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.130&quot;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后发布：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> publish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>取消发布：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> unpublish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="开发一个npm-create-脚手架" tabindex="-1"><a class="header-anchor" href="#开发一个npm-create-脚手架" aria-hidden="true">#</a> 开发一个npm create 脚手架</h2><p>我们需要开发一个类似于Vite创建项目的脚手架，使用用户通过</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> create 我们的脚手架 项目名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这种方式可以构建项目</p><figure><img src="https://s2.loli.net/2024/04/27/4DjTFyEUfCBckhL.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="创建项目" tabindex="-1"><a class="header-anchor" href="#创建项目" aria-hidden="true">#</a> 创建项目</h3><p>首先创建一个项目</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>自定义package.json文件</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>  
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;create-electron-prokit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/index.js&quot;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;blog&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yunfei&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新建<code>bin/index.js</code>文件<br> 写入一点内容：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token hashbang comment">#!/usr/bin/env node  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;全民制作人ikun，欢迎来到我的世界！&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>运行：</p><figure><img src="https://s2.loli.net/2024/04/27/JE8pTtcd3gOzoMG.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>package.json中加入：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/bin/index.js&quot;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>接着执行：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">link</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个link就相当于install<br> 结果如下：</p><figure><img src="https://s2.loli.net/2024/04/27/G9VtS13ZrKiBa6x.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="commander-js" tabindex="-1"><a class="header-anchor" href="#commander-js" aria-hidden="true">#</a> commander.js</h3>`,40),k={href:"https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md",target:"_blank",rel:"noopener noreferrer"},v=n("br",null,null,-1),m=a(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> commander
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>打印信息：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token hashbang comment">#!/usr/bin/env node  </span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>program<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;commander&quot;</span><span class="token punctuation">;</span>  
  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;全民制作人ikun，欢迎来到我的世界啊！&quot;</span><span class="token punctuation">)</span>  
program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/czV84OjftXKTyi1.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>参考vue来设计</p><figure><img src="https://s2.loli.net/2024/04/27/wP8ojMiKyqQOJrX.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p><code>&lt;&gt;</code> 里面的表示必填，<code>[]</code>表示选填</p><figure><img src="https://s2.loli.net/2024/04/27/Wh9w4nmMzosq3iX.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>我们自己开发的执行<code>--help</code>是正常的，但是执行<code>--version</code>却没有，需要自己来开发这些选项</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>  
program<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&#39;test-cxk&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usage</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;command&gt; [options]&#39;</span><span class="token punctuation">)</span>  
program  
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;-d, --debug&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;output extra debugging&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;-s, --small&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;small pizza size&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;-p, --pizza-type &lt;type&gt;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;flavour of pizza&#39;</span><span class="token punctuation">)</span>  
  
program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>结果如下：<br><img src="https://s2.loli.net/2024/04/27/UmcE9RODVGJvMqA.webp" alt="image.png" loading="lazy"></p><p>如何获取用户输入参数？例如<code>-d</code>？</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>program<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&#39;test-cxk&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usage</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;command&gt; [options]&#39;</span><span class="token punctuation">)</span>  
program  
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;-d, --debug&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;output extra debugging&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;-s, --small&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;small pizza size&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;-p, --pizza-type &lt;type&gt;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;flavour of pizza&#39;</span><span class="token punctuation">)</span>  
  
program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>  
  
<span class="token keyword">const</span> options <span class="token operator">=</span> program<span class="token punctuation">.</span><span class="token function">opts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/8GEKyOPRvpz2dkT.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>测试必填参数<code>&lt;&gt;</code>内的，<br><img src="https://s2.loli.net/2024/04/27/hgtuAxbGQY3T4HE.webp" alt="image.png" loading="lazy"></p><p>参数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>program  
    <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&#39;clone &lt;source&gt; [destination]&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&#39;clone a repository into a newly created directory&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> destination</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;clone command called&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;source&#39;</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;destination&#39;</span><span class="token punctuation">,</span> destination<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/DofClbVyNFOgSJm.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="chalk美化终端" tabindex="-1"><a class="header-anchor" href="#chalk美化终端" aria-hidden="true">#</a> chalk美化终端</h3>`,19),g={href:"https://github.com/chalk/chalk",target:"_blank",rel:"noopener noreferrer"},b=a(`<p>注意必须要安装4版本的，因为要作为构建工具：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> isntall chalk@4.0.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/GSmNkchrCBivOIw.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>  
<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">red</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">blue</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">green</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">yellow</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">cyan</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">magenta</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">white</span><span class="token punctuation">(</span><span class="token string">&#39;全民制作人ikun，欢迎来到我的世界啊！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/c8mkJwuhYST3Z4Q.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="inquirer-js命令行交互" tabindex="-1"><a class="header-anchor" href="#inquirer-js命令行交互" aria-hidden="true">#</a> inquirer.js命令行交互</h3>`,6),h={href:"https://github.com/SBoudrias/Inquirer.js/blob/main/packages/inquirer/README.md",target:"_blank",rel:"noopener noreferrer"},q=a(`<figure><img src="https://s2.loli.net/2024/04/27/VuZ9tNbriC7Fl8A.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>同理，我们需要降级操作：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save inquirer@<span class="token operator">^</span><span class="token number">8.0</span><span class="token number">.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> inquirer <span class="token keyword">from</span> <span class="token string">&#39;inquirer&#39;</span><span class="token punctuation">;</span>  
  
<span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  
        <span class="token punctuation">{</span>  
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>  
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;food&#39;</span><span class="token punctuation">,</span>  
            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;你想吃什么，小黑子?&#39;</span><span class="token punctuation">,</span>  
            <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;烤坤&#39;</span>  
        <span class="token punctuation">}</span>  
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">answers</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
        <span class="token comment">// Use user feedback for... whatever!!  </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>answers<span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>isTtyError<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            <span class="token comment">// Prompt couldn&#39;t be rendered in the current environment  </span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
            <span class="token comment">// Something else went wrong  </span>
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/86L7iAcsyIOhrHw.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="ora-js终端loading美化工具" tabindex="-1"><a class="header-anchor" href="#ora-js终端loading美化工具" aria-hidden="true">#</a> ora.js终端loading美化工具</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm install ora@<span class="token number">5.0</span><span class="token number">.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>加载</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">&#39;Loading unicorns&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
        spinner<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&#39;yellow&#39;</span><span class="token punctuation">;</span>  
        spinner<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&#39;Loading rainbows&#39;</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
		spinner<span class="token punctuation">.</span><span class="token function">succeed</span><span class="token punctuation">(</span><span class="token string">&#39;加载成功&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/GdhZjeimH76OL91.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="https://s2.loli.net/2024/04/27/xBpFWvcAULJH4wC.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h2 id="figlet终端生成艺术字" tabindex="-1"><a class="header-anchor" href="#figlet终端生成艺术字" aria-hidden="true">#</a> figlet终端生成艺术字</h2>`,12),f={href:"https://github.com/patorjk/figlet.js",target:"_blank",rel:"noopener noreferrer"},y=a(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> figlet
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  
    <span class="token function">figlet</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!!&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://s2.loli.net/2024/04/27/RUnKdE4Q1ixbcNB.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="fs-extra操作本地目录" tabindex="-1"><a class="header-anchor" href="#fs-extra操作本地目录" aria-hidden="true">#</a> fs-extra操作本地目录</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> fs-extra
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="git-clone下载" tabindex="-1"><a class="header-anchor" href="#git-clone下载" aria-hidden="true">#</a> git-clone下载</h3>`,6),x={href:"https://github.com/jaz303/git-clone",target:"_blank",rel:"noopener noreferrer"},w=a(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> git-clone 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="随便开发一个脚手架" tabindex="-1"><a class="header-anchor" href="#随便开发一个脚手架" aria-hidden="true">#</a> 随便开发一个脚手架</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token hashbang comment">#!/usr/bin/env node  </span>
  
<span class="token keyword">const</span> <span class="token punctuation">{</span>program<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;commander&#39;</span><span class="token punctuation">)</span>  
<span class="token keyword">const</span> figlet <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;figlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>  
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;node:fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> inquirer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;inquirer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> gitClone <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;git-clone&#39;</span><span class="token punctuation">)</span>  
<span class="token keyword">const</span> ora <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ora&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> chalk <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;chalk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">//首行提示  </span>
program<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&#39;test-cxk&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usage</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;command&gt; [options]&#39;</span><span class="token punctuation">)</span>  
  
<span class="token comment">//版本号  </span>
program<span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">v</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../package.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>  
  
<span class="token keyword">const</span> projectList <span class="token operator">=</span> <span class="token punctuation">{</span>  
    <span class="token string-property property">&#39;vue&#39;</span><span class="token operator">:</span> <span class="token string">&#39;git@github.com:yunfeidog/docs-template.git&#39;</span><span class="token punctuation">,</span>  
    <span class="token string-property property">&#39;react&#39;</span><span class="token operator">:</span> <span class="token string">&#39;git@github.com:yunfeidog/MediaCrawler.git&#39;</span><span class="token punctuation">,</span>  
    <span class="token string-property property">&#39;vue-ts&#39;</span><span class="token operator">:</span> <span class="token string">&#39;git@github.com:yunfeidog/ACM.git&#39;</span><span class="token punctuation">,</span>  
    <span class="token string-property property">&#39;react-ts&#39;</span><span class="token operator">:</span> <span class="token string">&#39;git@github.com:yunfeidog/leetcode-master.git&#39;</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">//命令 创建项目的命令  </span>
program  
    <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&#39;create &lt;project-name&gt;&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&#39;创建一个新项目&#39;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
            <span class="token comment">//创建项目的逻辑  </span>
            <span class="token comment">//创建一个名字为name的文件夹，把我们的模板拷贝到这个文件夹下  </span>
            <span class="token comment">//1.先判断有没有这个文件夹  </span>
  
            <span class="token comment">//拼接出要创建的文件夹的路径  </span>
            <span class="token keyword">const</span> targetPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>  
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;文件夹已经存在&#39;</span><span class="token punctuation">)</span>  
                <span class="token comment">//是否要覆盖  </span>
                <span class="token keyword">const</span> answer <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  
                    <span class="token punctuation">{</span>  
                        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;confirm&#39;</span><span class="token punctuation">,</span>  
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;overwrite&#39;</span><span class="token punctuation">,</span>  
                        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;文件夹已经存在，是否要覆盖?&#39;</span><span class="token punctuation">,</span>  
                        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span>  
                    <span class="token punctuation">}</span>  
                <span class="token punctuation">]</span><span class="token punctuation">)</span>  
                <span class="token keyword">if</span> <span class="token punctuation">(</span>answer<span class="token punctuation">.</span>overwrite<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                    <span class="token comment">//删除文件夹  </span>
                    fs<span class="token punctuation">.</span><span class="token function">rm</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;文件夹删除成功&#39;</span><span class="token punctuation">)</span>  
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;取消创建&#39;</span><span class="token punctuation">)</span>  
                    <span class="token keyword">return</span>  
                <span class="token punctuation">}</span>  
            <span class="token punctuation">}</span>  
            <span class="token comment">//创建文件夹  </span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> inquirer<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  
                <span class="token punctuation">{</span>  
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;list&#39;</span><span class="token punctuation">,</span>  
                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;选择什么框架新建项目?&#39;</span><span class="token punctuation">,</span>  
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;type&#39;</span><span class="token punctuation">,</span>  
                    <span class="token literal-property property">choices</span><span class="token operator">:</span> <span class="token punctuation">[</span>  
                        <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  
                        <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">}</span>  
                    <span class="token punctuation">]</span>  
                <span class="token punctuation">}</span><span class="token punctuation">,</span>  
                <span class="token punctuation">{</span>  
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;list&#39;</span><span class="token punctuation">,</span>  
                    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;是否要用ts?&#39;</span><span class="token punctuation">,</span>  
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ts&#39;</span><span class="token punctuation">,</span>  
                    <span class="token literal-property property">choices</span><span class="token operator">:</span> <span class="token punctuation">[</span>  
                        <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;是&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;yes&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  
                        <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;否&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;no&#39;</span><span class="token punctuation">}</span>  
                    <span class="token punctuation">]</span>  
                <span class="token punctuation">}</span>  
            <span class="token punctuation">]</span><span class="token punctuation">)</span>  
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  
            <span class="token keyword">const</span> <span class="token punctuation">{</span>type<span class="token punctuation">,</span> ts<span class="token punctuation">}</span> <span class="token operator">=</span> res  
            <span class="token keyword">const</span> gitUrl <span class="token operator">=</span> projectList<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>ts <span class="token operator">===</span> <span class="token string">&#39;yes&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;-ts&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span>  
  
            <span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">&#39;正在下载模板...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
            <span class="token comment">//下载模板  </span>
            <span class="token function">gitClone</span><span class="token punctuation">(</span>gitUrl<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                    spinner<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">&#39;下载失败&#39;</span><span class="token punctuation">)</span>  
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
                    spinner<span class="token punctuation">.</span><span class="token function">succeed</span><span class="token punctuation">(</span><span class="token string">&#39;下载成功&#39;</span><span class="token punctuation">)</span>  
                    <span class="token comment">//删除.git文件  </span>
                    fs<span class="token punctuation">.</span><span class="token function">rm</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>targetPath<span class="token punctuation">,</span> <span class="token string">&#39;.git&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>  
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Done,now run: &quot;</span><span class="token punctuation">)</span>  
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">cyan</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">cd </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">cyan</span><span class="token punctuation">(</span><span class="token string">&#39;npm install&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chalk<span class="token punctuation">.</span><span class="token function">cyan</span><span class="token punctuation">(</span><span class="token string">&#39;npm run serve&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
                <span class="token punctuation">}</span>  
            <span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token punctuation">}</span>  
    <span class="token punctuation">)</span>  
  
  
<span class="token comment">//给help添加信息提示  </span>
program<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;--help&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>  
        figlet<span class="token punctuation">.</span><span class="token function">textSync</span><span class="token punctuation">(</span><span class="token string">&quot;cxk!&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  
            <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token string">&quot;Ghost&quot;</span><span class="token punctuation">,</span>  
            <span class="token literal-property property">horizontalLayout</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>  
            <span class="token literal-property property">verticalLayout</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>  
            <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>  
            <span class="token literal-property property">whitespaceBreak</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span>  
  
  
program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>package.json</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>  
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test-cxk-docs&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/bin/index.cjs&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node --experimental-specifier-resolution=node --loader ts-node/esm index.ts&quot;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>  
    <span class="token string">&quot;blog&quot;</span>  
  <span class="token punctuation">]</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yunfei&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;@types/node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^20.12.7&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.4.5&quot;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;chalk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;commander&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^12.0.0&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;figlet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.7.0&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;fs-extra&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^11.2.0&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;git-clone&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.2.0&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;inquirer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.2.6&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;ora&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.0&quot;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="发布" tabindex="-1"><a class="header-anchor" href="#发布" aria-hidden="true">#</a> 发布</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> publish 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="测试" tabindex="-1"><a class="header-anchor" href="#测试" aria-hidden="true">#</a> 测试</h3><p>安装依赖</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> test-cxk-docs <span class="token parameter variable">-g</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="已经发布脚手架" tabindex="-1"><a class="header-anchor" href="#已经发布脚手架" aria-hidden="true">#</a> 已经发布脚手架</h2><p>下面命令可以用来快速构建一个博客模版</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span> yunfei-docs-template-npm <span class="token parameter variable">-g</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yunfei-docs-template-npm create app
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,14);function j(_,z){const t=o("ExternalLinkIcon");return c(),i("div",null,[u,n("p",null,[n("a",r,[s("https://www.npmjs.com/"),p(t)])]),d,n("p",null,[s("官网："),n("a",k,[s("https://github.com/tj/commander.js/blob/master/Readme_zh-CN.md"),p(t)]),v,s(" 安装：")]),m,n("p",null,[s("官网:"),n("a",g,[s("https://github.com/chalk/chalk"),p(t)])]),b,n("p",null,[s("官网："),n("a",h,[s("https://github.com/SBoudrias/Inquirer.js/blob/main/packages/inquirer/README.md"),p(t)])]),q,n("p",null,[s("官网："),n("a",f,[s("https://github.com/patorjk/figlet.js"),p(t)])]),y,n("p",null,[n("a",x,[s("https://github.com/jaz303/git-clone"),p(t)])]),w])}const S=e(l,[["render",j],["__file","开发自己的npm脚手架.html.vue"]]);export{S as default};
